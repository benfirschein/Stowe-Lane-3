<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Ben's Parcels (Corrected)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        html, body, #map { height: 100%; margin: 0; padding: 0; }
    </style>
</head>
<body>
    <div id="map"></div>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        var map = L.map('map');

        // Carto light base layer
        L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
            attribution: '&copy; OpenStreetMap contributors & Carto',
            subdomains: 'abcd',
            maxZoom: 20
        }).addTo(map);

        // GeoJSON: All 5 parcels
        var geojson = {
            "type": "FeatureCollection",
            "features": [
                {
                    "type": "Feature",
                    "geometry": {
                        "type": "Polygon",
                        "coordinates": [[
                            [-122.1891260567536, 37.41981524853649],
                            [-122.18910145842759, 37.419815363858625],
                            [-122.18907711169308, 37.41981256643467],
                            [-122.18918391553972, 37.41961871869487],
                            [-122.18946135260994, 37.41971592394216],
                            [-122.18937656252092, 37.41976929094132],
                            [-122.18937103837033, 37.41983713457261],
                            [-122.18934200800821, 37.41984292201802],
                            [-122.18931815066739, 37.41984622151981],
                            [-122.18929394373768, 37.419846706151496],
                            [-122.18926990900023, 37.41984436479536],
                            [-122.18924656058617, 37.41983924772661],
                            [-122.18922440041727, 37.419831464876886],
                            [-122.18920115366222, 37.419823250665324],
                            [-122.18917668348104, 37.41981774508871],
                            [-122.18915148166529, 37.419815060026],
                            [-122.1891260567536, 37.41981524853649]
                        ]]
                    },
                    "properties": { "APN": "074311540" }
                },
                {
                    "type": "Feature",
                    "geometry": {
                        "type": "Polygon",
                        "coordinates": [[
                            [-122.18937365950956, 37.41950730925832],
                            [-122.18949483530304, 37.419544339080126],
                            [-122.18960637182741, 37.41957842634592],
                            [-122.18964842617467, 37.41959127853091],
                            [-122.1896177602608, 37.41961171089878],
                            [-122.18956299147648, 37.419648203032565],
                            [-122.18946135260994, 37.41971592394216],
                            [-122.18918391553972, 37.41961871869487],
                            [-122.18918123728473, 37.419575570177656],
                            [-122.18936936688603, 37.419508656200506],
                            [-122.18937365950956, 37.41950730925832]
                        ]]
                    },
                    "properties": { "APN": "074311520" }
                },
                {
                    "type": "Feature",
                    "geometry": {
                        "type": "Polygon",
                        "coordinates": [[
                            [-122.18838496324847, 37.4193492376805],
                            [-122.18839093812412, 37.41934088846582],
                            [-122.18867393076762, 37.419179688921545],
                            [-122.18930890289674, 37.41948358267399],
                            [-122.18933164045683, 37.419494464578854],
                            [-122.18937365950956, 37.41950730925832],
                            [-122.18936936688603, 37.419508656200506],
                            [-122.18918123728473, 37.419575570177656],
                            [-122.18913805938506, 37.41955266113343],
                            [-122.1890646730132, 37.41957794050855],
                            [-122.18886586894308, 37.41964642165446],
                            [-122.18879840367757, 37.41949409990494],
                            [-122.18838496324847, 37.4193492376805]
                        ]]
                    },
                    "properties": { "APN": "074311530" }
                },
                {
                    "type": "Feature",
                    "geometry": {
                        "type": "Polygon",
                        "coordinates": [[
                            [-122.18906409831666, 37.419809823937634],
                            [-122.188981303845, 37.419789467844716],
                            [-122.18897296470634, 37.419786761687156],
                            [-122.18886586894308, 37.41964642165446],
                            [-122.1890646730132, 37.41957794050855],
                            [-122.18913805938506, 37.41955266113343],
                            [-122.18918123728473, 37.419575570177656],
                            [-122.18918391553972, 37.41961871869487],
                            [-122.18907711169308, 37.41981256643467],
                            [-122.18906409831666, 37.419809823937634]
                        ]]
                    },
                    "properties": { "APN": "074311550" }
                },
                {
                    "type": "Feature",
                    "geometry": {
                        "type": "Polygon",
                        "coordinates": [[
                            [-122.1893453766598, 37.41990363786997],
                            [-122.18917582058117, 37.4198948446561],
                            [-122.18903570292012, 37.41986039520502],
                            [-122.188832964018, 37.41981054856295],
                            [-122.18874803116678, 37.4197896661374],
                            [-122.18867797561394, 37.41968730705644],
                            [-122.18864894012943, 37.419766379319164],
                            [-122.18817236724743, 37.41964855478293],
                            [-122.18838496324847, 37.4193492376805],
                            [-122.18879840367757, 37.41949409990494],
                            [-122.18886586894308, 37.41964642165446],
                            [-122.18889149652331, 37.41969553750152],
                            [-122.1889573106641, 37.41971171854858],
                            [-122.18906409831666, 37.419809823937634],
                            [-122.1893453766598, 37.41990363786997]
                        ]]
                    },
                    "properties": { "APN": "074311510" }
                }
            ]
        };

        // Render the parcel layer with styling and APN popup
        var layer = L.geoJSON(geojson, {
            style: {
                color: "#555",
                weight: 1,
                fillColor: "#888",
                fillOpacity: 0.8
            },
            onEachFeature: function (feature, layer) {
                layer.bindPopup("APN: " + feature.properties.APN);
            }
        }).addTo(map);

        // Auto zoom to fit all parcels
        map.fitBounds(layer.getBounds());
    </script>
</body>
</html>
